@model Sale

@{
    ViewData["Title"] = "Sale Detail Page";
}

<div class="p-2 col-8 m-auto border border-1 border-light shadow-sm">
    <h3 class="text-center">Sale details</h3>
    <form asp-action="PaySale" class="d-flex flex-column gap-2" method="post">
        <input type="hidden" name="id" value="@Model.Id" />
        <div class="row">
            <div class="col-6">
                <span class="fw-bold">Client</span>
                <input type="text" class="form-control" value="@Model.Client" disabled />
            </div>
            <div class="col-6">
                <span class="fw-bold">Description</span>
                <input type="text" class="form-control" value="@Model.Description" disabled />
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <ul class="overflow-auto list-group">
                    <p class="fw-bold m-1">Products</p>
                    @foreach(var product in Model.Products)
                    {
                        <li class="d-flex gap-2 list-group-item">
                            <p>@product.Name -</p>
                            <p>$@product.UnitPrice</p>
                        </li>
                    }
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <p><span class="fw-bold">Total:</span> $@Model.TotalPrice</p>
            </div>
        </div>
        <div class="d-flex justify-content-between">
            @if(!Model.IsPaid)
            {
                <button class="btn btn-success" style="width: 100px" type="submit">Pay</button>
            }
            <a asp-controller="Accounting" asp-action="Index" style="width: 100px;" class="d-inline-block btn btn-secondary">Go back</a>
        </div>
    </form>
</div>